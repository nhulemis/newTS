{"version":3,"sources":["assets\\Scripts\\Attractor.ts"],"names":[],"mappings":";;;;;AAAA,oBAAoB;AACpB,wEAAwE;AACxE,mBAAmB;AACnB,kFAAkF;AAClF,8BAA8B;AAC9B,kFAAkF;;;;;;;;;;;;;;;;;;;;;AAE5E,IAAA,KAAsB,EAAE,CAAC,UAAU,EAAlC,OAAO,aAAA,EAAE,QAAQ,cAAiB,CAAC;AAE1C;IAAuC,6BAAY;IAAnD;QAAA,qEA4CC;QAzCG,WAAK,GAAa,IAAI,CAAC;QAGvB,UAAI,GAAW,OAAO,CAAC;QAGvB,YAAM,GAAY,IAAI,CAAC;;IAmC3B,CAAC;IAlCG,wBAAwB;IAExB,0BAAM,GAAN;QAEI,IAAI,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QAC9C,IAAI,QAAQ,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC;QAExD,IAAI,WAAW,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC;QAC9B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,WAAW,CAAC,CAAC;QAEnC,IAAI,cAAc,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC;QACjC,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;QAExC,IAAI,SAAS,GAAG,cAAc,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;QAEhD,IAAI,QAAQ,GAAG,SAAS,CAAC,GAAG,EAAE,CAAC;QAE/B,IAAM,CAAC,GAAG,OAAO,CAAC;QAElB,IAAI,QAAQ,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAE,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAC,CAAC,CAAC,CAAC;QACtE,IAAI,KAAK,GAAG,IAAI,EAAE,CAAC,IAAI,CAAC;QACxB,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;QAEzC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,WAAW,CAAC,CAAC,YAAY,CAAC,KAAK,EAAC,cAAc,CAAC,CAAC;IACzE,CAAC;IAED,yBAAK,GAAL;QACI,EAAE,CAAC,QAAQ,CAAC,mBAAmB,EAAE,CAAC,OAAO,GAAG,IAAI,CAAC;IAErD,CAAC;IAED,0BAAM,GAAN,UAAQ,EAAE;QACN,IAAI,CAAC,MAAM,EAAE,CAAC;IAClB,CAAC;IAxCD;QADC,QAAQ,CAAC,EAAE,CAAC,KAAK,CAAC;4CACI;IAGvB;QADC,QAAQ;2CACc;IAGvB;QADC,QAAQ,CAAC,EAAE,CAAC,IAAI,CAAC;6CACK;IATN,SAAS;QAD7B,OAAO;OACa,SAAS,CA4C7B;IAAD,gBAAC;CA5CD,AA4CC,CA5CsC,EAAE,CAAC,SAAS,GA4ClD;kBA5CoB,SAAS","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n@ccclass\r\nexport default class Attractor extends cc.Component {\r\n\r\n    @property(cc.Label)\r\n    label: cc.Label = null;\r\n\r\n    @property\r\n    text: string = 'hello';\r\n\r\n    @property(cc.Node)\r\n    Planet: cc.Node = null; \r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    Attact()\r\n    {\r\n        let rbCar = this.getComponent(cc.RigidBody3D);\r\n        let rbPlanet = this.Planet.getComponent(cc.RigidBody3D);\r\n\r\n        let positionCar = new cc.Vec3;\r\n        this.node.getPosition(positionCar);\r\n\r\n        let positionPlanet = new cc.Vec3;\r\n        this.Planet.getPosition(positionPlanet);\r\n\r\n        let direction = positionPlanet.sub(positionCar);\r\n\r\n        let distance = direction.mag();\r\n\r\n        const G = 667.408;\r\n\r\n        let forceMag = G * (rbCar.mass * rbPlanet.mass)/ Math.pow(distance,2);\r\n        let force = new cc.Vec3;\r\n        direction.mul(forceMag).normalize(force);\r\n\r\n        this.getComponent(cc.RigidBody3D).applyImpulse(force,positionPlanet);\r\n    }\r\n\r\n    start () {\r\n        cc.director.getPhysics3DManager().enabled = true;\r\n\r\n    }\r\n\r\n    update (dt) {\r\n        this.Attact();\r\n    }\r\n}\r\n"]}